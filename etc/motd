#!/usr/bin/sh

# Colors (simplified for ash)
BLUE='\033[38;5;81m'
PINK='\033[38;5;198m'
GREEN='\033[38;5;118m'
YELLOW='\033[38;5;227m'
RED='\033[38;5;196m'
NC='\033[0m'

printf "${BLUE}"
cat << 'EOF'
    ███╗   ███╗ ██████╗ ██████╗  █████╗ ██╗         ██████╗ ███████╗
    ████╗ ████║██╔═══██╗██╔══██╗██╔══██╗██║         ██╔══██╗██╔════╝
    ██╔████╔██║██║   ██║██████╔╝███████║██║         ██║  ██║███████╗
    ██║╚██╔╝██║██║   ██║██╔══██╗██╔══██║██║         ██║  ██║╚════██║
    ██║ ╚═╝ ██║╚██████╔╝██║  ██║██║  ██║███████╗    ██████╔╝███████║
    ╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝    ╚═════╝ ╚══════╝
EOF

printf "${PINK}"
echo "            ╔══════════════════════════════════════════╗"
echo "            ║           ETHICAL CYBER SYSTEM          ║"
echo "            ║              v2.1.5 - NEURAL            ║"
echo "            ╚══════════════════════════════════════════╝"
printf "${NC}"

# System Information
printf "${GREEN}"
echo "┌──────────────── SYSTEM STATUS ─────────────────┐"

# Hostname
hostname=$(hostname)
hostname_len=$(printf "%s" "$hostname" | wc -c)
spaces=$((25 - hostname_len))
printf "│ ${YELLOW}• Hostname:${GREEN} %s%${spaces}s │\n" "$hostname" ""

# OS (simplified for postmarketOS)
if [ -f /etc/os-release ]; then
    os_name=$(grep PRETTY_NAME /etc/os-release | cut -d= -f2 | tr -d '"')
else
    os_name="postmarketOS"
fi
os_len=$(printf "%s" "$os_name" | wc -c)
spaces=$((33 - os_len))
printf "│ ${YELLOW}• OS:${GREEN} %s%${spaces}s │\n" "$os_name" ""

# Kernel
kernel=$(uname -r)
kernel_len=$(printf "%s" "$kernel" | wc -c)
spaces=$((30 - kernel_len))
printf "│ ${YELLOW}• Kernel:${GREEN} %s%${spaces}s │\n" "$kernel" ""

# Uptime
uptime_str=$(uptime -p | sed 's/up //')
uptime_len=$(printf "%s" "$uptime_str" | wc -c)
spaces=$((31 - uptime_len))
printf "│ ${YELLOW}• Uptime:${GREEN} %s%${spaces}s │\n" "$uptime_str" ""

# Load
load_str=$(uptime | awk -F'load average:' '{print $2}' | sed 's/^ //')
load_len=$(printf "%s" "$load_str" | wc -c)
spaces=$((34 - load_len))
printf "│ ${YELLOW}• Load:${GREEN} %s%${spaces}s │\n" "$load_str" ""

# Memory
memory_str=$(free -h | awk '/^Mem:/ {print $3 "/" $2}')
memory_len=$(printf "%s" "$memory_str" | wc -c)
spaces=$((26 - memory_len))
printf "│ ${YELLOW}• Memory:${GREEN} %s used%${spaces}s │\n" "$memory_str" ""

# Disk
disk_str=$(df -h / | awk 'NR==2 {print $4 " free"}')
disk_len=$(printf "%s" "$disk_str" | wc -c)
spaces=$((32 - disk_len))
printf "│ ${YELLOW}• Disk:${GREEN} %s%${spaces}s │\n" "$disk_str" ""

# Users
users_count=$(who | wc -l)
users_str="$users_count connected"
users_len=$(printf "%s" "$users_str" | wc -c)
spaces=$((26 - users_len))
printf "│ ${YELLOW}• Users:${GREEN} %s%${spaces}s │\n" "$users_str" ""

echo "│ ${YELLOW}• Security:${GREEN} Firewall Active$(printf '%24s') │"
echo "└────────────────────────────────────────────────┘"
printf "${NC}"
